<view class="page">
  <view class="empty" wx:if="{{goodsList.length === 0}}">
    <t-empty t-class="empty-tips" size="240rpx" description="??????" />
  </view>

  <view class="goods-list" wx:if="{{goodsList.length > 0}}">
    <view class="goods-item" wx:for="{{goodsList}}" wx:key="spuId">
      <t-image t-class="thumb" src="{{item.images[0]}}" mode="aspectFill" />
      <view class="info">
        <view class="title-row">
          <view class="title">{{item.title}}</view>
          <view class="status {{item.isPutOnSale ? 'status-on' : 'status-off'}}">
            {{item.isPutOnSale ? '???' : '???'}}
          </view>
        </view>
        <view class="meta">
          <price price="{{item.price}}" wr-class="price" symbol-class="price-symbol" />
          <view class="stock">?? {{item.stock}}</view>
        </view>
        <view class="actions">
          <t-button size="small" variant="outline" data-id="{{item.spuId}}" bind:tap="onEdit">
            ??
          </t-button>
          <t-button
            size="small"
            variant="outline"
            data-id="{{item.spuId}}"
            bind:tap="onToggleStatus"
          >
            {{item.isPutOnSale ? '??' : '??'}}
          </t-button>
          <t-button size="small" theme="danger" variant="outline" data-id="{{item.spuId}}" bind:tap="onDelete">
            ??
          </t-button>
          <t-button size="small" variant="text" data-id="{{item.spuId}}" bind:tap="onView">
            ??
          </t-button>
        </view>
      </view>
    </view>
  </view>
</view>
<t-dialog id="t-dialog" />
<t-toast id="t-toast" />
