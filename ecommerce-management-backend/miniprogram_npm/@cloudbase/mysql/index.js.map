{"version":3,"sources":["index.js"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.js","sourcesContent":["\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.registerMySQL = void 0;\nvar wx_cloud_client_sdk_1 = require(\"@cloudbase/wx-cloud-client-sdk\");\nfunction getEntity(cloudbase, options) {\n    var _this = this;\n    var cloudbaseFetch = cloudbase.request.fetch.bind(cloudbase.request);\n    var _a = options || {}, _b = _a.instance, instance = _b === void 0 ? 'default' : _b, _c = _a.database, database = _c === void 0 ? cloudbase.config.env : _c;\n    var fetch = function (url, options) { return __awaiter(_this, void 0, void 0, function () {\n        var headers, result, data, e_1, res;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    headers = {};\n                    if (options.headers instanceof Headers) {\n                        options.headers.forEach(function (value, key) {\n                            headers[key] = value;\n                        });\n                    }\n                    else {\n                        headers = options.headers || {};\n                    }\n                    return [4, cloudbaseFetch(__assign(__assign({ url: url.toString() }, options), { headers: __assign({ 'Content-Type': 'application/json', 'X-Db-Instance': instance, 'Accept-Profile': database, 'Content-Profile': database }, headers), shouldThrowOnError: false }))];\n                case 1:\n                    result = _a.sent();\n                    data = {};\n                    _a.label = 2;\n                case 2:\n                    _a.trys.push([2, 4, , 5]);\n                    return [4, result.data];\n                case 3:\n                    data = _a.sent();\n                    return [3, 5];\n                case 4:\n                    e_1 = _a.sent();\n                    if (!e_1.message.includes('Unexpected end of JSON input')) {\n                        throw e_1;\n                    }\n                    return [3, 5];\n                case 5:\n                    res = {\n                        ok: (result === null || result === void 0 ? void 0 : result.statusCode) >= 200 && (result === null || result === void 0 ? void 0 : result.statusCode) < 300,\n                        status: (result === null || result === void 0 ? void 0 : result.statusCode) || 200,\n                        statusText: (result === null || result === void 0 ? void 0 : result.statusMessage) || 'OK',\n                        json: function () { return Promise.resolve(data || {}); },\n                        text: function () { return Promise.resolve(typeof data === 'string' ? data : JSON.stringify(data || {})); },\n                        headers: result === null || result === void 0 ? void 0 : result.header,\n                    };\n                    return [2, res];\n            }\n        });\n    }); };\n    var _d = cloudbase.getEndPointWithKey('GATEWAY'), BASE_URL = _d.BASE_URL, PROTOCOL = _d.PROTOCOL;\n    var mysqlBaseUrl = \"\".concat(PROTOCOL).concat(BASE_URL, \"/rdb/rest\");\n    var entity = (0, wx_cloud_client_sdk_1.generateMySQLClient)(cloudbase, {\n        mysqlBaseUrl: mysqlBaseUrl,\n        fetch: fetch,\n    });\n    return entity;\n}\nvar component = {\n    name: 'mysql',\n    entity: {\n        mysql: function (options) {\n            return getEntity(this, options)(options);\n        },\n    },\n};\nvar rdbComponent = {\n    name: 'rdb',\n    entity: {\n        rdb: function (options) {\n            return getEntity(this, options)(options);\n        },\n    },\n};\ntry {\n    cloudbase.registerComponent(component);\n    cloudbase.registerComponent(rdbComponent);\n}\ncatch (e) { }\nfunction registerMySQL(app) {\n    try {\n        app.registerComponent(component);\n        app.registerComponent(rdbComponent);\n    }\n    catch (e) {\n        console.warn(e);\n    }\n}\nexports.registerMySQL = registerMySQL;\ntry {\n    window.registerMySQL = registerMySQL;\n}\ncatch (e) { }\n__exportStar(require(\"@cloudbase/wx-cloud-client-sdk\"), exports);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBLHNFQUFzRztBQUl0RyxTQUFTLFNBQVMsQ0FBQyxTQUFrQyxFQUFFLE9BQXNCO0lBQTdFLGlCQTJEQztJQTFEQyxJQUFNLGNBQWMsR0FBRyxTQUFTLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0lBQ2hFLElBQUEsS0FBNEQsT0FBTyxJQUFJLEVBQUUsRUFBdkUsZ0JBQW9CLEVBQXBCLFFBQVEsbUJBQUcsU0FBUyxLQUFBLEVBQUUsZ0JBQStCLEVBQS9CLFFBQVEsbUJBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxHQUFHLEtBQWtCLENBQUE7SUFDL0UsSUFBTSxLQUFLLEdBQUcsVUFBTyxHQUFzQixFQUFFLE9BQW9COzs7OztvQkFDM0QsT0FBTyxHQUFHLEVBQUUsQ0FBQTtvQkFDaEIsSUFBSSxPQUFPLENBQUMsT0FBTyxZQUFZLE9BQU8sRUFBRTt3QkFDdEMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsVUFBQyxLQUFLLEVBQUUsR0FBRzs0QkFDakMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQTt3QkFDdEIsQ0FBQyxDQUFDLENBQUE7cUJBQ0g7eUJBQU07d0JBQ0wsT0FBTyxHQUFHLE9BQU8sQ0FBQyxPQUFPLElBQUksRUFBRSxDQUFBO3FCQUNoQztvQkFFYyxXQUFNLGNBQWMscUJBQ2pDLEdBQUcsRUFBRSxHQUFHLENBQUMsUUFBUSxFQUFFLElBQ2hCLE9BQU8sS0FDVixPQUFPLGFBQ0wsY0FBYyxFQUFFLGtCQUFrQixFQUNsQyxlQUFlLEVBQUUsUUFBUSxFQUN6QixnQkFBZ0IsRUFBRSxRQUFRLEVBQzFC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O0FBUEQsc0NBT0M7QUFFRCxJQUFJO0lBQ0QsTUFBYyxDQUFDLGFBQWEsR0FBRyxhQUFhLENBQUE7Q0FDOUM7QUFBQyxPQUFPLENBQUMsRUFBRSxHQUFFO0FBR2QsaUVBQThDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSUNsb3VkYmFzZSB9IGZyb20gJ0BjbG91ZGJhc2UvdHlwZXMnXG5pbXBvcnQgeyBJQ2xvdWRiYXNlQ29tcG9uZW50IH0gZnJvbSAnQGNsb3VkYmFzZS90eXBlcy9jb21wb25lbnQnXG5pbXBvcnQgeyBDbG91ZEJhc2VJbnN0YW5jZSwgZ2VuZXJhdGVNeVNRTENsaWVudCwgSU15U3FsT3B0aW9ucyB9IGZyb20gJ0BjbG91ZGJhc2Uvd3gtY2xvdWQtY2xpZW50LXNkaydcblxuZGVjbGFyZSBjb25zdCBjbG91ZGJhc2U6IElDbG91ZGJhc2VcblxuZnVuY3Rpb24gZ2V0RW50aXR5KGNsb3VkYmFzZTogYW55ICYgQ2xvdWRCYXNlSW5zdGFuY2UsIG9wdGlvbnM6IElNeVNxbE9wdGlvbnMpIHtcbiAgY29uc3QgY2xvdWRiYXNlRmV0Y2ggPSBjbG91ZGJhc2UucmVxdWVzdC5mZXRjaC5iaW5kKGNsb3VkYmFzZS5yZXF1ZXN0KVxuICBjb25zdCB7IGluc3RhbmNlID0gJ2RlZmF1bHQnLCBkYXRhYmFzZSA9IGNsb3VkYmFzZS5jb25maWcuZW52IH0gPSBvcHRpb25zIHx8IHt9XG4gIGNvbnN0IGZldGNoID0gYXN5bmMgKHVybDogUmVxdWVzdEluZm8gfCBVUkwsIG9wdGlvbnM6IFJlcXVlc3RJbml0KSA9PiB7XG4gICAgbGV0IGhlYWRlcnMgPSB7fVxuICAgIGlmIChvcHRpb25zLmhlYWRlcnMgaW5zdGFuY2VvZiBIZWFkZXJzKSB7XG4gICAgICBvcHRpb25zLmhlYWRlcnMuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICBoZWFkZXJzW2tleV0gPSB2YWx1ZVxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycyB8fCB7fVxuICAgIH1cblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNsb3VkYmFzZUZldGNoKHtcbiAgICAgIHVybDogdXJsLnRvU3RyaW5nKCksXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAnWC1EYi1JbnN0YW5jZSc6IGluc3RhbmNlLFxuICAgICAgICAnQWNjZXB0LVByb2ZpbGUnOiBkYXRhYmFzZSxcbiAgICAgICAgJ0NvbnRlbnQtUHJvZmlsZSc6IGRhdGFiYXNlLFxuICAgICAgICAuLi5oZWFkZXJzLFxuICAgICAgfSxcbiAgICAgIHNob3VsZFRocm93T25FcnJvcjogZmFsc2UsXG4gICAgfSlcblxuICAgIGxldCBkYXRhID0ge31cbiAgICB0cnkge1xuICAgICAgZGF0YSA9IGF3YWl0IHJlc3VsdC5kYXRhXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgaWYgKCFlLm1lc3NhZ2UuaW5jbHVkZXMoJ1VuZXhwZWN0ZWQgZW5kIG9mIEpTT04gaW5wdXQnKSkge1xuICAgICAgICAvLyDmnI3liqHlmajkvJrov5Tlm57nqbrlrZfnrKbkuLLvvIzlr7zoh7Top6PmnpDlpLHotKXvvIzov5nml7blupTlvZPkvZzmraPluLjlpITnkIZcbiAgICAgICAgdGhyb3cgZVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHJlcyA9IHtcbiAgICAgIG9rOiByZXN1bHQ/LnN0YXR1c0NvZGUgPj0gMjAwICYmIHJlc3VsdD8uc3RhdHVzQ29kZSA8IDMwMCxcbiAgICAgIHN0YXR1czogcmVzdWx0Py5zdGF0dXNDb2RlIHx8IDIwMCxcbiAgICAgIHN0YXR1c1RleHQ6IHJlc3VsdD8uc3RhdHVzTWVzc2FnZSB8fCAnT0snLFxuICAgICAganNvbjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKGRhdGEgfHwge30pLFxuICAgICAgdGV4dDogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyA/IGRhdGEgOiBKU09OLnN0cmluZ2lmeShkYXRhIHx8IHt9KSksXG4gICAgICBoZWFkZXJzOiByZXN1bHQ/LmhlYWRlcixcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzIGFzIFJlc3BvbnNlXG4gIH1cbiAgY29uc3QgeyBCQVNFX1VSTCwgUFJPVE9DT0wgfSA9IGNsb3VkYmFzZS5nZXRFbmRQb2ludFdpdGhLZXkoJ0dBVEVXQVknKSBhcyB7XG4gICAgQkFTRV9VUkw6IHN0cmluZ1xuICAgIFBST1RPQ09MOiBzdHJpbmdcbiAgfVxuICBjb25zdCBteXNxbEJhc2VVcmwgPSBgJHtQUk9UT0NPTH0ke0JBU0VfVVJMfS9yZGIvcmVzdGBcblxuICBjb25zdCBlbnRpdHkgPSBnZW5lcmF0ZU15U1FMQ2xpZW50KGNsb3VkYmFzZSwge1xuICAgIG15c3FsQmFzZVVybCxcbiAgICBmZXRjaCxcbiAgfSlcblxuICByZXR1cm4gZW50aXR5XG59XG5cbmNvbnN0IGNvbXBvbmVudDogSUNsb3VkYmFzZUNvbXBvbmVudCA9IHtcbiAgbmFtZTogJ215c3FsJyxcbiAgZW50aXR5OiB7XG4gICAgbXlzcWwob3B0aW9uczogSU15U3FsT3B0aW9ucykge1xuICAgICAgcmV0dXJuIGdldEVudGl0eSh0aGlzLCBvcHRpb25zKShvcHRpb25zKVxuICAgIH0sXG4gIH0sXG59XG5jb25zdCByZGJDb21wb25lbnQ6IElDbG91ZGJhc2VDb21wb25lbnQgPSB7XG4gIG5hbWU6ICdyZGInLFxuICBlbnRpdHk6IHtcbiAgICByZGIob3B0aW9uczogSU15U3FsT3B0aW9ucykge1xuICAgICAgcmV0dXJuIGdldEVudGl0eSh0aGlzLCBvcHRpb25zKShvcHRpb25zKVxuICAgIH0sXG4gIH0sXG59XG5cbnRyeSB7XG4gIGNsb3VkYmFzZS5yZWdpc3RlckNvbXBvbmVudChjb21wb25lbnQpXG4gIGNsb3VkYmFzZS5yZWdpc3RlckNvbXBvbmVudChyZGJDb21wb25lbnQpXG59IGNhdGNoIChlKSB7fVxuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJNeVNRTChhcHA6IElDbG91ZGJhc2UpIHtcbiAgdHJ5IHtcbiAgICBhcHAucmVnaXN0ZXJDb21wb25lbnQoY29tcG9uZW50KVxuICAgIGFwcC5yZWdpc3RlckNvbXBvbmVudChyZGJDb21wb25lbnQpXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLndhcm4oZSlcbiAgfVxufVxuXG50cnkge1xuICAod2luZG93IGFzIGFueSkucmVnaXN0ZXJNeVNRTCA9IHJlZ2lzdGVyTXlTUUxcbn0gY2F0Y2ggKGUpIHt9XG5cblxuZXhwb3J0ICogZnJvbSAnQGNsb3VkYmFzZS93eC1jbG91ZC1jbGllbnQtc2RrJ1xuIl19"]}