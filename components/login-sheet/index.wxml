<t-popup
  visible="{{visible}}"
  placement="bottom"
  bind:visible-change="handleClose"
  close-on-overlay-click="{{true}}"
>
  <view class="login-sheet">
    <!-- 关闭按钮 -->
    <view class="login-sheet__close" bindtap="handleClose">
      <text class="close-icon">✕</text>
    </view>

    <!-- 品牌标题 -->
    <view class="login-sheet__header">
      <view class="brand-title">欢迎登录东方红航天生物</view>
      <view class="brand-subtitle">健康 · 天然 · 正品</view>
    </view>

    <!-- 优惠券诱饵 -->
    <view class="login-sheet__coupon">
      <view class="coupon-badge">
        <text class="coupon-amount">¥50</text>
        <text class="coupon-label">新人礼</text>
      </view>
      <view class="coupon-desc">注册即享50元新人优惠券</view>
    </view>

    <!-- 登录按钮 -->
    <view class="login-sheet__button">
      <button
        class="login-button"
        bindtap="handleWxLogin"
        loading="{{isLoading}}"
        disabled="{{isLoading}}"
      >
        <text wx:if="{{!isLoading}}">微信授权登录</text>
        <text wx:else>登录中...</text>
      </button>
    </view>

    <!-- 协议勾选 -->
    <view class="login-sheet__agreement">
      <t-checkbox
        value="{{isAgreed}}"
        bind:change="handleAgreementChange"
        icon="circle"
      />
      <view class="agreement-text">
        <text>我已阅读并同意</text>
        <text class="agreement-link" data-type="user" bindtap="handleShowAgreement">《用户协议》</text>
        <text>和</text>
        <text class="agreement-link" data-type="privacy" bindtap="handleShowAgreement">《隐私政策》</text>
      </view>
    </view>

    <!-- 安全提示 -->
    <view class="login-sheet__tips">
      <text class="tips-icon">🔒</text>
      <text class="tips-text">您的信息将被严格保密</text>
    </view>
  </view>

  <!-- Toast 组件 -->
  <t-toast id="t-toast" />
</t-popup>
